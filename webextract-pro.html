<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebExtract-Pro</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        .animate-spin {
            animation: spin 1s linear infinite;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .kilimall-gradient {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .jumia-gradient {
            background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);
        }
        
        .card-hover {
            transition: all 0.3s ease;
        }
        
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        
        .glassmorphism {
            backdrop-filter: blur(16px) saturate(180%);
            background-color: rgba(255, 255, 255, 0.75);
            border: 1px solid rgba(209, 213, 219, 0.3);
        }
        
        .worker-card {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .worker-card:hover {
            transform: scale(1.02);
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // Icon Components
        const UserIcon = () => (
            React.createElement("svg", {
                className: "w-5 h-5",
                fill: "none",
                stroke: "currentColor",
                viewBox: "0 0 24 24"
            }, React.createElement("path", {
                strokeLinecap: "round",
                strokeLinejoin: "round",
                strokeWidth: 2,
                d: "M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"
            }))
        );

        const LockIcon = () => (
            React.createElement("svg", {
                className: "w-5 h-5",
                fill: "none",
                stroke: "currentColor",
                viewBox: "0 0 24 24"
            }, React.createElement("path", {
                strokeLinecap: "round",
                strokeLinejoin: "round",
                strokeWidth: 2,
                d: "M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"
            }))
        );

        const EmailIcon = () => (
            React.createElement("svg", {
                className: "w-5 h-5",
                fill: "none",
                stroke: "currentColor",
                viewBox: "0 0 24 24"
            }, React.createElement("path", {
                strokeLinecap: "round",
                strokeLinejoin: "round",
                strokeWidth: 2,
                d: "M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"
            }))
        );

        const ShoppingBagIcon = () => (
            React.createElement("svg", {
                className: "w-6 h-6",
                fill: "none",
                stroke: "currentColor",
                viewBox: "0 0 24 24"
            }, React.createElement("path", {
                strokeLinecap: "round",
                strokeLinejoin: "round",
                strokeWidth: 2,
                d: "M16 11V7a4 4 0 00-8 0v4M5 9h14l-1 12H6L5 9z"
            }))
        );

        const SearchIcon = () => (
            React.createElement("svg", {
                className: "w-5 h-5",
                fill: "none",
                stroke: "currentColor",
                viewBox: "0 0 24 24"
            }, React.createElement("path", {
                strokeLinecap: "round",
                strokeLinejoin: "round",
                strokeWidth: 2,
                d: "M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
            }))
        );

        const ActivityIcon = () => (
            React.createElement("svg", {
                className: "w-5 h-5",
                fill: "none",
                stroke: "currentColor",
                viewBox: "0 0 24 24"
            }, React.createElement("path", {
                strokeLinecap: "round",
                strokeLinejoin: "round",
                strokeWidth: 2,
                d: "M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"
            }))
        );

        const LogoutIcon = () => (
            React.createElement("svg", {
                className: "w-5 h-5",
                fill: "none",
                stroke: "currentColor",
                viewBox: "0 0 24 24"
            }, React.createElement("path", {
                strokeLinecap: "round",
                strokeLinejoin: "round",
                strokeWidth: 2,
                d: "M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"
            }))
        );

        const ExternalLinkIcon = () => (
            React.createElement("svg", {
                className: "w-4 h-4",
                fill: "none",
                stroke: "currentColor",
                viewBox: "0 0 24 24"
            }, React.createElement("path", {
                strokeLinecap: "round",
                strokeLinejoin: "round",
                strokeWidth: 2,
                d: "M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"
            }))
        );

        // API Configuration
        const API_BASE_URL = 'http://127.0.0.1:8000';

        // Authentication Service
        const AuthService = {
            login: async (email, password) => {
                try {
                    const response = await fetch(`${API_BASE_URL}/api/auth/login`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ email, password })
                    });
                    const data = await response.json();
                    if (data.success) {
                        localStorage.setItem('token', data.token);
                        localStorage.setItem('user', JSON.stringify(data.user));
                        return { success: true, user: data.user };
                    }
                    return { success: false, error: data.error };
                } catch (error) {
                    return { success: false, error: 'Connection failed' };
                }
            },

            register: async (name, email, password) => {
                try {
                    const response = await fetch(`${API_BASE_URL}/api/auth/register`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ name, email, password })
                    });
                    const data = await response.json();
                    if (data.success) {
                        localStorage.setItem('token', data.token);
                        localStorage.setItem('user', JSON.stringify(data.user));
                        return { success: true, user: data.user };
                    }
                    return { success: false, error: data.error };
                } catch (error) {
                    return { success: false, error: 'Connection failed' };
                }
            },

            logout: () => {
                localStorage.removeItem('token');
                localStorage.removeItem('user');
            },

            getCurrentUser: () => {
                const user = localStorage.getItem('user');
                return user ? JSON.parse(user) : null;
            },

            getToken: () => {
                return localStorage.getItem('token');
            }
        };

        // Worker configurations
        const WORKERS = [
            {
                id: 'kilimall',
                name: 'Kilimall Scraper',
                description: 'Extract product data from Kilimall Kenya marketplace',
                color: 'kilimall-gradient',
                textColor: 'text-blue-600',
                bgColor: 'bg-blue-50',
                borderColor: 'border-blue-200',
                port: 5001,
                features: ['Search Products', 'Category Scraping', 'Real-time Progress', 'Task Management'],
                logo: 'ðŸ›’'
            },
            {
                id: 'jumia',
                name: 'Jumia Scraper',
                description: 'Extract product data from Jumia Kenya e-commerce platform',
                color: 'jumia-gradient',
                textColor: 'text-orange-600',
                bgColor: 'bg-orange-50',
                borderColor: 'border-orange-200',
                port: 5000,
                features: ['Product Search', 'Category URLs', 'Progress Tracking', 'Data Export'],
                logo: 'ðŸ›ï¸'
            }
        ];

        const KenyaScraperHub = () => {
            const [user, setUser] = useState(null);
            const [authMode, setAuthMode] = useState('login'); // 'login' or 'register'
            const [loading, setLoading] = useState(false);
            const [error, setError] = useState('');
            
            // Form states
            const [formData, setFormData] = useState({
                name: '',
                email: '',
                password: '',
                confirmPassword: ''
            });

            // Dashboard states
            const [selectedWorker, setSelectedWorker] = useState(null);
            const [workerStats, setWorkerStats] = useState({});

            useEffect(() => {
                // Check for existing session
                const currentUser = AuthService.getCurrentUser();
                if (currentUser) {
                    setUser(currentUser);
                    loadWorkerStats();
                }
            }, []);

            const loadWorkerStats = async () => {
                const stats = {};
                const token = AuthService.getToken();
                
                for (const worker of WORKERS) {
                    try {
                        const response = await fetch(`http://127.0.0.1:${worker.port}/api/stats`, {
                            headers: { 'Authorization': `Bearer ${token}` }
                        });
                        if (response.ok) {
                            const data = await response.json();
                            stats[worker.id] = data;
                        }
                    } catch (error) {
                        stats[worker.id] = { error: 'Offline' };
                    }
                }
                setWorkerStats(stats);
            };

            const handleInputChange = (e) => {
                setFormData({
                    ...formData,
                    [e.target.name]: e.target.value
                });
            };

            const handleAuth = async (e) => {
                e.preventDefault();
                setLoading(true);
                setError('');

                try {
                    let result;
                    if (authMode === 'login') {
                        result = await AuthService.login(formData.email, formData.password);
                    } else {
                        if (formData.password !== formData.confirmPassword) {
                            setError('Passwords do not match');
                            setLoading(false);
                            return;
                        }
                        result = await AuthService.register(formData.name, formData.email, formData.password);
                    }

                    if (result.success) {
                        setUser(result.user);
                        setFormData({ name: '', email: '', password: '', confirmPassword: '' });
                        loadWorkerStats();
                    } else {
                        setError(result.error);
                    }
                } catch (error) {
                    setError('An unexpected error occurred');
                } finally {
                    setLoading(false);
                }
            };

            const handleLogout = () => {
                AuthService.logout();
                setUser(null);
                setSelectedWorker(null);
                setWorkerStats({});
            };

            const openWorker = (worker) => {
                const workerUrl = `http://127.0.0.1:${worker.port}`;
                window.open(workerUrl, '_blank', 'width=1200,height=800');
            };

            // Authentication Form Component
            const AuthForm = () => (
                React.createElement("div", {
                    className: "min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50"
                }, React.createElement("div", {
                    className: "max-w-md w-full space-y-8 p-8"
                }, [
                    React.createElement("div", {
                        key: "auth-header",
                        className: "text-center"
                    }, [
                        React.createElement("div", {
                            key: "logo-container",
                            className: "mx-auto h-16 w-16 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center mb-4"
                        }, React.createElement(ShoppingBagIcon, { className: "text-white" })),
                        React.createElement("h2", {
                            key: "auth-title",
                            className: "text-3xl font-bold text-gray-900"
                        }, "WebExtract-Pro"),
                        React.createElement("p", {
                            key: "auth-subtitle",
                            className: "mt-2 text-gray-600"
                        }, authMode === 'login' ? "Sign in to your account" : "Create your account")
                    ]),
                    
                    React.createElement("div", {
                        key: "auth-card",
                        className: "glassmorphism rounded-xl shadow-xl p-8"
                    }, [
                        React.createElement("div", {
                            key: "auth-tabs",
                            className: "flex mb-6"
                        }, [
                            React.createElement("button", {
                                key: "login-tab",
                                onClick: () => setAuthMode('login'),
                                className: `flex-1 py-2 px-4 text-sm font-medium rounded-l-lg ${
                                    authMode === 'login' 
                                        ? 'bg-blue-600 text-white' 
                                        : 'bg-gray-100 text-gray-600 hover:bg-gray-200'
                                }`
                            }, "Sign In"),
                            React.createElement("button", {
                                key: "register-tab",
                                onClick: () => setAuthMode('register'),
                                className: `flex-1 py-2 px-4 text-sm font-medium rounded-r-lg ${
                                    authMode === 'register' 
                                        ? 'bg-blue-600 text-white' 
                                        : 'bg-gray-100 text-gray-600 hover:bg-gray-200'
                                }`
                            }, "Sign Up")
                        ]),

                        React.createElement("form", {
                            key: "auth-form",
                            onSubmit: handleAuth,
                            className: "space-y-4"
                        }, [
                            authMode === 'register' && React.createElement("div", {
                                key: "name-field"
                            }, [
                                React.createElement("label", {
                                    key: "name-label",
                                    className: "block text-sm font-medium text-gray-700 mb-1"
                                }, "Full Name"),
                                React.createElement("div", {
                                    key: "name-input-container",
                                    className: "relative"
                                }, [
                                    React.createElement("div", {
                                        key: "name-icon",
                                        className: "absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
                                    }, React.createElement(UserIcon, { className: "text-gray-400" })),
                                    React.createElement("input", {
                                        key: "name-input",
                                        type: "text",
                                        name: "name",
                                        value: formData.name,
                                        onChange: handleInputChange,
                                        required: true,
                                        className: "block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
                                        placeholder: "Enter your full name"
                                    })
                                ])
                            ]),

                            React.createElement("div", {
                                key: "email-field"
                            }, [
                                React.createElement("label", {
                                    key: "email-label",
                                    className: "block text-sm font-medium text-gray-700 mb-1"
                                }, "Email Address"),
                                React.createElement("div", {
                                    key: "email-input-container",
                                    className: "relative"
                                }, [
                                    React.createElement("div", {
                                        key: "email-icon",
                                        className: "absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
                                    }, React.createElement(EmailIcon, { className: "text-gray-400" })),
                                    React.createElement("input", {
                                        key: "email-input",
                                        type: "email",
                                        name: "email",
                                        value: formData.email,
                                        onChange: handleInputChange,
                                        required: true,
                                        className: "block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
                                        placeholder: "Enter your email"
                                    })
                                ])
                            ]),

                            React.createElement("div", {
                                key: "password-field"
                            }, [
                                React.createElement("label", {
                                    key: "password-label",
                                    className: "block text-sm font-medium text-gray-700 mb-1"
                                }, "Password"),
                                React.createElement("div", {
                                    key: "password-input-container",
                                    className: "relative"
                                }, [
                                    React.createElement("div", {
                                        key: "password-icon",
                                        className: "absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
                                    }, React.createElement(LockIcon, { className: "text-gray-400" })),
                                    React.createElement("input", {
                                        key: "password-input",
                                        type: "password",
                                        name: "password",
                                        value: formData.password,
                                        onChange: handleInputChange,
                                        required: true,
                                        className: "block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
                                        placeholder: "Enter your password"
                                    })
                                ])
                            ]),

                            authMode === 'register' && React.createElement("div", {
                                key: "confirm-password-field"
                            }, [
                                React.createElement("label", {
                                    key: "confirm-password-label",
                                    className: "block text-sm font-medium text-gray-700 mb-1"
                                }, "Confirm Password"),
                                React.createElement("div", {
                                    key: "confirm-password-input-container",
                                    className: "relative"
                                }, [
                                    React.createElement("div", {
                                        key: "confirm-password-icon",
                                        className: "absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
                                    }, React.createElement(LockIcon, { className: "text-gray-400" })),
                                    React.createElement("input", {
                                        key: "confirm-password-input",
                                        type: "password",
                                        name: "confirmPassword",
                                        value: formData.confirmPassword,
                                        onChange: handleInputChange,
                                        required: true,
                                        className: "block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
                                        placeholder: "Confirm your password"
                                    })
                                ])
                            ]),

                            error && React.createElement("div", {
                                key: "error-message",
                                className: "bg-red-50 border border-red-200 rounded-lg p-3 text-red-700 text-sm"
                            }, error),

                            React.createElement("button", {
                                key: "submit-button",
                                type: "submit",
                                disabled: loading,
                                className: "w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"
                            }, loading ? [
                                React.createElement("div", {
                                    key: "loading-spinner",
                                    className: "w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"
                                }),
                                React.createElement("span", { key: "loading-text" }, "Please wait...")
                            ] : [
                                React.createElement("span", { key: "submit-text" }, authMode === 'login' ? 'Sign In' : 'Create Account')
                            ])
                        ])
                    ])
                ]))
            );

            // Dashboard Component
            const Dashboard = () => (
                React.createElement("div", {
                    className: "min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50"
                }, [
                    // Header
                    React.createElement("header", {
                        key: "dashboard-header",
                        className: "gradient-bg shadow-xl"
                    }, React.createElement("div", {
                        className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"
                    }, React.createElement("div", {
                        className: "flex items-center justify-between"
                    }, [
                        React.createElement("div", {
                            key: "header-title",
                            className: "flex items-center space-x-4"
                        }, [
                            React.createElement("div", {
                                key: "header-icon",
                                className: "p-3 bg-white bg-opacity-20 rounded-xl backdrop-blur-sm"
                            }, React.createElement(ShoppingBagIcon, { className: "text-white" })),
                            React.createElement("div", {
                                key: "header-text"
                            }, [
                                React.createElement("h1", {
                                    key: "header-title-text",
                                    className: "text-3xl font-bold text-white"
                                }, "WebExtract-Pro"),
                                React.createElement("p", {
                                    key: "header-subtitle",
                                    className: "text-blue-100 mt-1"
                                }, `Welcome back, ${user?.name}`)
                            ])
                        ]),
                        React.createElement("button", {
                            key: "logout-button",
                            onClick: handleLogout,
                            className: "flex items-center space-x-2 bg-white bg-opacity-20 text-white px-4 py-2 rounded-lg hover:bg-opacity-30 transition-all duration-200"
                        }, [
                            React.createElement(LogoutIcon, { key: "logout-icon" }),
                            React.createElement("span", { key: "logout-text" }, "Logout")
                        ])
                    ]))),

                    // Main Content
                    React.createElement("div", {
                        key: "dashboard-content",
                        className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"
                    }, [
                        // Welcome Section
                        React.createElement("div", {
                            key: "welcome-section",
                            className: "mb-8"
                        }, [
                            React.createElement("h2", {
                                key: "welcome-title",
                                className: "text-2xl font-bold text-gray-900 mb-2"
                            }, "Available Scrapers"),
                            React.createElement("p", {
                                key: "welcome-description",
                                className: "text-gray-600"
                            }, "Choose a scraper to start extracting product data from Kenya's top e-commerce platforms")
                        ]),

                        // Workers Grid
                        React.createElement("div", {
                            key: "workers-grid",
                            className: "grid grid-cols-1 md:grid-cols-2 gap-8 mb-8"
                        }, WORKERS.map(worker => {
                            const stats = workerStats[worker.id] || {};
                            return React.createElement("div", {
                                key: `worker-${worker.id}`,
                                className: `worker-card bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden ${worker.borderColor}`
                            }, [
                                React.createElement("div", {
                                    key: "worker-header",
                                    className: `${worker.color} p-6 text-white`
                                }, [
                                    React.createElement("div", {
                                        key: "worker-title-section",
                                        className: "flex items-center justify-between mb-4"
                                    }, [
                                        React.createElement("div", {
                                            key: "worker-title",
                                            className: "flex items-center space-x-3"
                                        }, [
                                            React.createElement("span", {
                                                key: "worker-logo",
                                                className: "text-3xl"
                                            }, worker.logo),
                                            React.createElement("div", {
                                                key: "worker-info"
                                            }, [
                                                React.createElement("h3", {
                                                    key: "worker-name",
                                                    className: "text-xl font-bold"
                                                }, worker.name),
                                                React.createElement("p", {
                                                    key: "worker-desc",
                                                    className: "text-sm opacity-90"
                                                }, worker.description)
                                            ])
                                        ]),
                                        React.createElement("div", {
                                            key: "worker-status",
                                            className: `w-3 h-3 rounded-full ${stats.error ? 'bg-red-400' : 'bg-green-400'}`
                                        })
                                    ]),
                                    React.createElement("div", {
                                        key: "worker-features",
                                        className: "flex flex-wrap gap-2"
                                    }, worker.features.map((feature, index) =>
                                        React.createElement("span", {
                                            key: `feature-${index}`,
                                            className: "px-3 py-1 bg-white bg-opacity-20 rounded-full text-xs font-medium"
                                        }, feature)
                                    ))
                                ]),
                                React.createElement("div", {
                                    key: "worker-content",
                                    className: "p-6"
                                }, [
                                    React.createElement("div", {
                                        key: "worker-stats",
                                        className: "grid grid-cols-2 gap-4 mb-6"
                                    }, [
                                        React.createElement("div", {
                                            key: "stat-tasks",
                                            className: `${worker.bgColor} p-3 rounded-lg`
                                        }, [
                                            React.createElement("p", {
                                                key: "tasks-label",
                                                className: "text-xs font-medium text-gray-600 uppercase tracking-wide"
                                            }, "Total Tasks"),
                                            React.createElement("p", {
                                                key: "tasks-value",
                                                className: `text-2xl font-bold ${worker.textColor}`
                                            }, stats.total_tasks || 0)
                                        ]),
                                        React.createElement("div", {
                                            key: "stat-success",
                                            className: `${worker.bgColor} p-3 rounded-lg`
                                        }, [
                                            React.createElement("p", {
                                                key: "success-label",
                                                className: "text-xs font-medium text-gray-600 uppercase tracking-wide"
                                            }, "Success Rate"),
                                            React.createElement("p", {
                                                key: "success-value",
                                                className: `text-2xl font-bold ${worker.textColor}`
                                            }, `${stats.success_rate || 0}%`)
                                        ]),
                                        React.createElement("div", {
                                            key: "stat-products",
                                            className: `${worker.bgColor} p-3 rounded-lg`
                                        }, [
                                            React.createElement("p", {
                                                key: "products-label",
                                                className: "text-xs font-medium text-gray-600 uppercase tracking-wide"
                                            }, "Products Scraped"),
                                            React.createElement("p", {
                                                key: "products-value",
                                                className: `text-2xl font-bold ${worker.textColor}`
                                            }, stats.total_products_scraped || 0)
                                        ]),
                                        React.createElement("div", {
                                            key: "stat-status",
                                            className: `${worker.bgColor} p-3 rounded-lg`
                                        }, [
                                            React.createElement("p", {
                                                key: "status-label",
                                                className: "text-xs font-medium text-gray-600 uppercase tracking-wide"
                                            }, "Status"),
                                            React.createElement("p", {
                                                key: "status-value",
                                                className: `text-sm font-bold ${stats.error ? 'text-red-600' : 'text-green-600'}`
                                            }, stats.error ? 'Offline' : 'Online')
                                        ])
                                    ]),
                                    React.createElement("button", {
                                        key: "open-worker-button",
                                        onClick: () => openWorker(worker),
                                        disabled: !!stats.error,
                                        className: `w-full ${worker.color} text-white py-3 px-6 rounded-lg font-semibold hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center space-x-2`
                                    }, [
                                        React.createElement(ExternalLinkIcon, { key: "open-icon" }),
                                        React.createElement("span", { key: "open-text" }, stats.error ? 'Service Offline' : 'Open Scraper')
                                    ])
                                ])
                            ]);
                        })),

                        // Quick Actions
                        React.createElement("div", {
                            key: "quick-actions",
                            className: "bg-white rounded-2xl shadow-xl p-8 border border-gray-100"
                        }, [
                            React.createElement("h3", {
                                key: "actions-title",
                                className: "text-xl font-bold text-gray-900 mb-6"
                            }, "Quick Actions"),
                            React.createElement("div", {
                                key: "actions-grid",
                                className: "grid grid-cols-1 md:grid-cols-3 gap-6"
                            }, [
                                React.createElement("button", {
                                    key: "refresh-stats",
                                    onClick: loadWorkerStats,
                                    className: "flex items-center justify-center space-x-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white py-4 px-6 rounded-lg font-semibold hover:from-blue-600 hover:to-blue-700 transition-all duration-200"
                                }, [
                                    React.createElement(ActivityIcon, { key: "refresh-icon" }),
                                    React.createElement("span", { key: "refresh-text" }, "Refresh Stats")
                                ]),
                                React.createElement("button", {
                                    key: "view-kilimall",
                                    onClick: () => openWorker(WORKERS[0]),
                                    className: "flex items-center justify-center space-x-3 bg-gradient-to-r from-indigo-500 to-purple-600 text-white py-4 px-6 rounded-lg font-semibold hover:from-indigo-600 hover:to-purple-700 transition-all duration-200"
                                }, [
                                    React.createElement("span", { key: "kilimall-emoji" }, "ðŸ›’"),
                                    React.createElement("span", { key: "kilimall-text" }, "Open Kilimall")
                                ]),
                                React.createElement("button", {
                                    key: "view-jumia",
                                    onClick: () => openWorker(WORKERS[1]),
                                    className: "flex items-center justify-center space-x-3 bg-gradient-to-r from-orange-500 to-red-600 text-white py-4 px-6 rounded-lg font-semibold hover:from-orange-600 hover:to-red-700 transition-all duration-200"
                                }, [
                                    React.createElement("span", { key: "jumia-emoji" }, "ðŸ›ï¸"),
                                    React.createElement("span", { key: "jumia-text" }, "Open Jumia")
                                ])
                            ])
                        ]),

                        // System Status
                        React.createElement("div", {
                            key: "system-status",
                            className: "bg-white rounded-2xl shadow-xl p-8 border border-gray-100 mt-8"
                        }, [
                            React.createElement("h3", {
                                key: "status-title",
                                className: "text-xl font-bold text-gray-900 mb-6"
                            }, "System Status"),
                            React.createElement("div", {
                                key: "status-grid",
                                className: "grid grid-cols-1 md:grid-cols-2 gap-6"
                            }, WORKERS.map(worker => {
                                const stats = workerStats[worker.id] || {};
                                return React.createElement("div", {
                                    key: `status-${worker.id}`,
                                    className: "flex items-center justify-between p-4 border border-gray-200 rounded-lg"
                                }, [
                                    React.createElement("div", {
                                        key: "status-info",
                                        className: "flex items-center space-x-3"
                                    }, [
                                        React.createElement("span", {
                                            key: "status-logo",
                                            className: "text-2xl"
                                        }, worker.logo),
                                        React.createElement("div", {
                                            key: "status-details"
                                        }, [
                                            React.createElement("p", {
                                                key: "status-name",
                                                className: "font-semibold text-gray-900"
                                            }, worker.name),
                                            React.createElement("p", {
                                                key: "status-port",
                                                className: "text-sm text-gray-500"
                                            }, `Port: ${worker.port}`)
                                        ])
                                    ]),
                                    React.createElement("div", {
                                        key: "status-indicator",
                                        className: "flex items-center space-x-2"
                                    }, [
                                        React.createElement("div", {
                                            key: "status-dot",
                                            className: `w-3 h-3 rounded-full ${stats.error ? 'bg-red-500' : 'bg-green-500'}`
                                        }),
                                        React.createElement("span", {
                                            key: "status-text",
                                            className: `text-sm font-medium ${stats.error ? 'text-red-600' : 'text-green-600'}`
                                        }, stats.error ? 'Offline' : 'Online')
                                    ])
                                ]);
                            }))
                        ])
                    ])
                ])
            );

            // Main render
            return user ? React.createElement(Dashboard) : React.createElement(AuthForm);
        };

        // Render the app
        const container = document.getElementById('root');
        const root = ReactDOM.createRoot(container);
        root.render(React.createElement(KenyaScraperHub));
    </script>
</body>
</html>